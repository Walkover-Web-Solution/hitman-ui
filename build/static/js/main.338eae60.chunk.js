(this["webpackJsonprouter-app"]=this["webpackJsonprouter-app"]||[]).push([[0],{37:function(e,t,n){e.exports=n(82)},42:function(e,t,n){},43:function(e,t,n){},82:function(e,t,n){"use strict";n.r(t);var a=n(0),o=n.n(a),r=n(11),c=n.n(r),i=n(8),l=(n(42),n(12)),s=n(13),u=n(15),p=n(14),g=n(16),m=n(9),h=(n(43),function(){return o.a.createElement("nav",{className:"navbar navbar-expand-lg navbar-light bg-light"},o.a.createElement(i.b,{className:"navbar-brand",to:"/"},o.a.createElement("h1",null,"HITMAN")),o.a.createElement("button",{className:"navbar-toggler",type:"button","data-toggle":"collapse","data-target":"#navbarSupportedContent","aria-controls":"navbarSupportedContent","aria-expanded":"false","aria-label":"Toggle navigation"},o.a.createElement("span",{className:"navbar-toggler-icon"})))}),f=function(e){e.match,e.location;return o.a.createElement("div",null,o.a.createElement(h,null),o.a.createElement("h1",null,"Collections"))},d=function(e){function t(){return Object(l.a)(this,t),Object(u.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(g.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return o.a.createElement(o.a.Fragment,null,o.a.createElement("h1",null,"Welcome To Hitman"),o.a.createElement("button",{className:"btn btn-success btn-lg"},o.a.createElement(i.b,{to:"/login"},"Go To Login")))}}]),t}(a.Component),b=n(17),v=n.n(b),w=n(34),E=n.n(w),k=n(35),j=n.n(k),O=n(10),y=n.n(O);var C={init:function(){},log:function(e){console.error(e)}},N=n(36);y.a.defaults.baseURL="https://hitman-api.herokuapp.com/",y.a.interceptors.response.use(null,(function(e){return e.response&&e.response.status>=400&&e.response.status<500||(C.log(e),N.a.error("An unexpected error occurrred.")),Promise.reject(e)}));var x={get:y.a.get,post:y.a.post,put:y.a.put,delete:y.a.delete,setJwt:function(e){y.a.defaults.headers.common["x-auth-token"]=e}};function A(){return localStorage.getItem("token")}x.setJwt(A());var S={login:function(e){return v.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}))},loginWithJwt:function(e){localStorage.setItem("token",e)},logout:function(){localStorage.removeItem("token")},getCurrentUser:function(){try{var e=localStorage.getItem("token");return j()(e)}catch(t){return null}},getJwt:A},L=function(e){function t(){var e,n;Object(l.a)(this,t);for(var a=arguments.length,o=new Array(a),r=0;r<a;r++)o[r]=arguments[r];return(n=Object(u.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(o)))).getSocketJwt=function(){var e=n.props.location;return E.a.parse(e.search)["sokt-auth-token"]},n}return Object(g.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){var e,t;return v.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:if(e=this.getSocketJwt()){n.next=3;break}return n.abrupt("return");case 3:return n.next=5,v.a.awrap(S.login(e));case 5:t=this.props.location.state,window.location=t?t.from.pathname:"/collections";case 7:case"end":return n.stop()}}),null,this)}},{key:"render",value:function(){if(S.getCurrentUser())return o.a.createElement(m.a,{to:"/collections"});var e="https://viasocket.com/login?token_required=true&redirect_uri=".concat("http://localhost:3000/login");return o.a.createElement(o.a.Fragment,null,o.a.createElement("h1",null,"Login"),o.a.createElement("button",{className:"btn btn-success btn-lg"},o.a.createElement("a",{href:e},"Login With ViaSocket")))}}]),t}(a.Component),_=function(e){function t(){return Object(l.a)(this,t),Object(u.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(g.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return o.a.createElement("div",null,o.a.createElement("div",{className:"content"},o.a.createElement(m.d,null,o.a.createElement(m.b,{path:"/collections",component:f}),o.a.createElement(m.b,{path:"/login",component:L}),o.a.createElement(m.b,{path:"/",component:d}))))}}]),t}(a.Component),I=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function J(e){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var t=e.installing;t.onstatechange=function(){"installed"===t.state&&(navigator.serviceWorker.controller?console.log("New content is available; please refresh."):console.log("Content is cached for offline use."))}}})).catch((function(e){console.error("Error during service worker registration:",e)}))}n(81);console.log("Hitman",Object({NODE_ENV:"production",PUBLIC_URL:"",REACT_APP_API_URL:"https://hitman-api.herokuapp.com/"}).REACT_APP_NAME),c.a.render(o.a.createElement(i.a,null,o.a.createElement(_,null)),document.getElementById("root")),function(){if("serviceWorker"in navigator){if(new URL("",window.location).origin!==window.location.origin)return;window.addEventListener("load",(function(){var e="".concat("","/service-worker.js");I?(!function(e){fetch(e).then((function(t){404===t.status||-1===t.headers.get("content-type").indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):J(e)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://goo.gl/SC7cgQ")}))):J(e)}))}}()}},[[37,1,2]]]);
//# sourceMappingURL=main.338eae60.chunk.js.map