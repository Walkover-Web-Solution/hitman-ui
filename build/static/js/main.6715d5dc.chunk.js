(this["webpackJsonprouter-app"]=this["webpackJsonprouter-app"]||[]).push([[0],{100:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),o=n(17),c=n.n(o),l=n(6),i=(n(59),n(7)),s=n(8),u=n(10),m=n(9),p=n(11),d=n(19),h=n(50),f=n(15),b=n.n(f),v=function(){return r.a.createElement("nav",{className:"navbar navbar-expand-lg navbar-light bg-light"},r.a.createElement(l.b,{className:"navbar-brand",to:"#"},"HITMAN"),r.a.createElement("div",{className:"collapse navbar-collapse",id:"navbarNav"},r.a.createElement(l.c,{className:"nav-link nav-item",to:"/logout"},"Logout")))},g=n(20),E=n.n(g);var w={init:function(){},log:function(e){console.error(e)}},y=n(51);E.a.defaults.baseURL="https://hitman-api.herokuapp.com/",E.a.interceptors.response.use(null,(function(e){return e.response&&e.response.status>=400&&e.response.status<500||(w.log(e),y.a.error("An unexpected error occurrred.")),Promise.reject(e)}));var k={get:E.a.get,post:E.a.post,put:E.a.put,delete:E.a.delete,setJwt:function(e){E.a.defaults.headers.common["x-auth-token"]=e}},j=n(28),O=n(104),C=function(e){var t=e.name,n=e.label,a=e.value,o=e.onChange,c=e.error;return r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:t},n),r.a.createElement("input",{value:a,onChange:o,id:t,name:t,type:"text",className:"form-control"}),c&&r.a.createElement("div",{className:"alert alert-danger"},c))},N=n(23),x=n.n(N),S=function(e){function t(){var e,n;Object(i.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(u.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).state={data:{name:"",website:"",description:"",keyword:""},errors:{},submittedNewCollection:!1},n.schema={name:x.a.string().required().label("Username"),website:x.a.string().required().label("Website"),keyword:x.a.string().required().label("keyword"),description:x.a.string().allow(null,"").label("Description")},n}return Object(p.a)(t,e),Object(s.a)(t,[{key:"doSubmit",value:function(e){return b.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:console.log(this.state.data),this.setState({submittedNewCollection:!0});case 2:case"end":return e.stop()}}),null,this)}},{key:"render",value:function(){return this.state.submittedNewCollection?r.a.createElement(d.a,{to:{pathname:"/collections",state:Object(j.a)({},this.state.data)}}):r.a.createElement(O.a,Object.assign({},this.props,{size:"lg","aria-labelledby":"contained-modal-title-vcenter",centered:!0}),r.a.createElement(O.a.Header,null,r.a.createElement(O.a.Title,{id:"contained-modal-title-vcenter"},"Add new Collection")),r.a.createElement(O.a.Body,null,r.a.createElement("form",{onSubmit:this.handleSubmit},this.renderInput("name","Name*"),this.renderInput("website","Website*"),this.renderInput("keyword","keyword*"),this.renderInput("description","Description"),this.renderButton("Submit"),r.a.createElement("button",{className:"btn btn-default"},r.a.createElement(l.b,{to:"/collections"},"Cancel")))))}}]),t}(function(e){function t(){var e,n;Object(i.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(u.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).state={data:{},errors:{}},n.validate=function(){var e=x.a.validate(n.state.data,n.schema,{abortEarly:!1}).error;if(!e)return null;var t={},a=!0,r=!1,o=void 0;try{for(var c,l=e.details[Symbol.iterator]();!(a=(c=l.next()).done);a=!0){var i=c.value;t[i.path[0]]=i.message}}catch(s){r=!0,o=s}finally{try{a||null==l.return||l.return()}finally{if(r)throw o}}return t},n.handleSubmit=function(e){e.preventDefault();var t=n.validate();n.setState({errors:t||{}}),t||n.doSubmit()},n.handleChange=function(e){var t=Object(j.a)({},n.state.data);t[e.currentTarget.name]=e.currentTarget.value,n.setState({data:t})},n}return Object(p.a)(t,e),Object(s.a)(t,[{key:"renderInput",value:function(e,t){var n=this.state,a=n.data,o=n.errors;return r.a.createElement(C,{name:e,label:t,value:a[e],onChange:this.handleChange,error:o[e]})}},{key:"renderButton",value:function(e){return r.a.createElement("button",{className:"btn btn-default"},e)}}]),t}(a.Component)),A=function(e){function t(){var e,n;Object(i.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(u.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).state={posts:[]},n.handleDelete=function(e){n.props.history.replace({pathname:"/collections",state:null});var t=n.state.posts.filter((function(t){return t.website!==e.website}));n.setState({posts:t})},n}return Object(p.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){return b.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:this.props.history.replace({pathname:"/collections",state:null});case 1:case"end":return e.stop()}}),null,this)}},{key:"handleAdd",value:function(e){var t,n;return b.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return console.log(e),console.log(this.state.posts),t=[e].concat(Object(h.a)(this.state.posts)),console.log(t),this.state.posts=t,a.next=7,b.a.awrap(k.post("http://localhost:2000/collections",e));case 7:n=a.sent,n.data;case 9:case"end":return a.stop()}}),null,this)}},{key:"handleUpdate",value:function(){}},{key:"render",value:function(){var e=this;return this.props.location.state&&this.handleAdd(this.props.location.state),r.a.createElement("div",null,r.a.createElement(v,null),r.a.createElement("h1",null,"Collections"),r.a.createElement("button",{className:"btn btn-success btn-lg"},r.a.createElement(l.b,{to:"/collections/new"},"Add Collection")),r.a.createElement("div",{className:"tabs"},r.a.createElement(d.d,null,r.a.createElement(d.b,{path:"/collections/new",render:function(e){return r.a.createElement(S,{show:!0,onHide:function(){window.location="/collections"}})}}))),r.a.createElement("table",{className:"table"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"Title"),r.a.createElement("th",null,"Update"),r.a.createElement("th",null,"Delete"))),r.a.createElement("tbody",null,this.state.posts.map((function(t){return r.a.createElement("tr",{key:t.website},r.a.createElement("td",null,t.name),r.a.createElement("td",null,r.a.createElement("button",{className:"btn btn-info btn-sm",onClick:function(){return e.handleUpdate(t)}},"Update")),r.a.createElement("td",null,r.a.createElement("button",{className:"btn btn-danger btn-sm",onClick:function(){return e.handleDelete(t)}},"Delete")))})))))}}]),t}(a.Component),I=function(e){function t(){return Object(i.a)(this,t),Object(u.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e={color:"#0f0f0f",fontSize:"30px",padding:"10px"};return r.a.createElement(r.a.Fragment,null,r.a.createElement("center",null,r.a.createElement("h1",{style:{color:"#0f0f0f",fontSize:"50px",padding:"30px"}},"Welcome To Hitman"),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("p",{style:e},"An efficient product which can help end users to dry run and manage their API documentation conveniently."),r.a.createElement("br",null),r.a.createElement("p",{style:e}," To login Click on the below button"),r.a.createElement("button",{className:"btn btn-primary btn-lg"},r.a.createElement(l.b,{to:"/login",style:{color:"#FFF"}},"Go To Login"))))}}]),t}(a.Component),T=n(48),U=n.n(T),D=n(49),W=n.n(D);n(97);function J(){return localStorage.getItem("token")}k.setJwt(J());var L={login:function(e){var t,n;return b.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,b.a.awrap(k.post("http://localhost:2000/login",{socketJwt:e}));case 2:t=a.sent,n=t.data,localStorage.setItem("token",n);case 5:case"end":return a.stop()}}))},loginWithJwt:function(e){localStorage.setItem("token",e)},logout:function(){localStorage.removeItem("token")},getCurrentUser:function(){try{var e=localStorage.getItem("token");return W()(e)}catch(t){return null}},getJwt:J},P=function(e){function t(){var e,n;Object(i.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(u.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).getSocketJwt=function(){var e=n.props.location;return U.a.parse(e.search)["sokt-auth-token"]},n}return Object(p.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){var e,t;return b.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:if(e=this.getSocketJwt()){n.next=3;break}return n.abrupt("return");case 3:return n.next=5,b.a.awrap(L.login(e));case 5:t=this.props.location.state,window.location=t?t.from.pathname:"/collections";case 7:case"end":return n.stop()}}),null,this)}},{key:"render",value:function(){if(L.getCurrentUser())return r.a.createElement(d.a,{to:"/collections"});var e="https://viasocket.com/login?token_required=true&redirect_uri=".concat("https://hitman-api.herokuapp.com/");return r.a.createElement(r.a.Fragment,null,r.a.createElement("center",null,r.a.createElement("h1",{style:{color:"#0f0f0f",fontSize:"50px",paddingTop:"150px",paddingBottom:"30px"}}," Welcome to the Login Page"),r.a.createElement("button",{className:"btn btn-primary btn-lg"},r.a.createElement("a",{href:e,style:{color:"#fcfcfc"}},"Login With ViaSocket"))))}}]),t}(a.Component),_=function(e){function t(){return Object(i.a)(this,t),Object(u.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){L.logout(),window.location="/"}},{key:"render",value:function(){return null}}]),t}(a.Component),B=(n(98),n(52)),F=function(e){e.path;var t=e.component,n=e.render,a=Object(B.a)(e,["path","component","render"]);return r.a.createElement(d.b,Object.assign({},a,{render:function(e){return L.getCurrentUser()?t?r.a.createElement(t,e):n(e):r.a.createElement(d.a,{to:{pathname:"/login",state:{from:e.location}}})}}))},R=function(e){function t(){return Object(i.a)(this,t),Object(u.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("div",{className:"content"},r.a.createElement(d.d,null,r.a.createElement(F,{path:"/collections",component:A}),r.a.createElement(d.b,{path:"/login",component:P}),r.a.createElement(d.b,{path:"/logout",component:_}),r.a.createElement(d.b,{path:"/",component:I}))))}}]),t}(a.Component),H=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function M(e){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var t=e.installing;t.onstatechange=function(){"installed"===t.state&&(navigator.serviceWorker.controller?console.log("New content is available; please refresh."):console.log("Content is cached for offline use."))}}})).catch((function(e){console.error("Error during service worker registration:",e)}))}n(99);console.log("Hitman",Object({NODE_ENV:"production",PUBLIC_URL:"",REACT_APP_API_URL:"https://hitman-api.herokuapp.com/"}).REACT_APP_NAME),c.a.render(r.a.createElement(l.a,null,r.a.createElement(R,null)),document.getElementById("root")),function(){if("serviceWorker"in navigator){if(new URL("",window.location).origin!==window.location.origin)return;window.addEventListener("load",(function(){var e="".concat("","/service-worker.js");H?(!function(e){fetch(e).then((function(t){404===t.status||-1===t.headers.get("content-type").indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):M(e)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://goo.gl/SC7cgQ")}))):M(e)}))}}()},54:function(e,t,n){e.exports=n(100)},59:function(e,t,n){},97:function(e){e.exports=JSON.parse("{}")},98:function(e,t,n){}},[[54,1,2]]]);
//# sourceMappingURL=main.6715d5dc.chunk.js.map